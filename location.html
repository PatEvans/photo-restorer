<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PhotoRestoreAI ‚Äî AI Location Changer for Photos</title>
  <meta name="description" content="Change the background of your photo to Paris, Tokyo, Santorini, and more with PhotoRestoreAI. Upload a photo and select a location." />
  <meta property="og:title" content="PhotoRestoreAI ‚Äî AI Location Changer" />
  <meta property="og:description" content="Upload a photo and switch its backdrop to any location with AI." />
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    .header { padding: 1.25rem 0; }
    .main { padding: 2rem 0; }
    .stack { display: grid; gap: 1rem; }
    .row { display: flex; gap: 0.75rem; align-items: center; }
    .center { display: grid; place-items: center; }
    .narrow { max-width: 880px; margin: 0 auto; }
    .upload-area { padding: 2.5rem 1.5rem; }
    .upload-content h2 { margin-bottom: 0.5rem; }
    .tool-controls { display:flex; gap:0.5rem; flex-wrap:wrap; justify-content:center; }
    .tool-controls input, .tool-controls select { background: var(--surface); color: var(--text-primary); border:1px solid var(--border-color); border-radius:8px; padding:0.45rem 0.6rem; }
    .top-nav { display:flex; gap:1rem; align-items:center; }
    .top-nav a { color: var(--text-secondary); text-decoration:none; padding:0.25rem 0.5rem; border-radius:6px; }
    .top-nav a.active { color: var(--text-primary); background: rgba(255,255,255,0.06); }
  </style>
</head>
<body data-mode="location">
  <header class="header">
    <div class="container narrow header-bar">
      <div class="brand-group">
        <button id="navToggle" class="icon-btn square" aria-label="Open menu">‚ò∞</button>
        <a class="logo" href="/" style="margin:0" aria-label="Go to homepage">PhotoRestoreAI</a>
      </div>
      
      <div class="header-actions">
        <div id="creditInfoTop" class="credit-badge" aria-live="polite">Checking credits‚Ä¶</div>
        <button class="btn btn-cta" id="buyBtnTop" aria-label="Buy credits">Buy Credits</button>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container narrow">
      <section class="upload-section">
        <div class="upload-area" id="uploadArea">
          <div class="upload-content center stack">
            <h2 id="uploadHeading" style="text-align:center;">Change your Photo's Background Location with AI</h2>
            <div id="toolControls" class="tool-controls" aria-label="Location controls">
              <select id="locationPreset" aria-label="Location preset">
                <option value="Paris">Paris</option>
                <option value="Tokyo">Tokyo</option>
                <option value="Santorini">Santorini</option>
                <option value="New York City">New York City</option>
                <option value="Sahara Desert">Sahara Desert</option>
                <option value="Swiss Alps">Swiss Alps</option>
              </select>
              <input id="locationCustom" type="text" placeholder="Or type a location (e.g., Kyoto in autumn)" />
            </div>
            <p style="text-align:center;">Upload a photo, pick a location, and we‚Äôll switch the background realistically.</p>
            <input type="file" id="fileInput" accept="image/*" hidden />
            <button class="upload-btn" id="uploadBtn" aria-label="Upload a Photo">Upload a Photo</button>
          </div>
        </div>
      </section>

      <section class="processing-section" id="processingSection" style="display:none;">
        <div class="processing-indicator center stack">
          <div class="spinner"></div>
          <p>Generating your AI image‚Ä¶</p>
        </div>
      </section>

      <section class="results-section" id="resultsSection" style="display:none;">
        <div class="comparison-container">
          <div class="image-comparison">
            <div class="image-side">
              <h3>Original</h3>
              <div class="image-frame"><img id="originalImage" alt="Original" /></div>
            </div>
            <div class="image-side">
              <h3>AI Location</h3>
              <div class="image-frame"><img id="restoredImage" alt="AI Location" /></div>
            </div>
          </div>
          <div class="actions" style="margin-top:1rem;">
            <button class="btn btn-primary icon-only" id="downloadBtn" title="Download the AI image" aria-label="Download AI image">‚¨á</button>
            <button class="btn btn-secondary" id="newPhotoBtn">New Photo</button>
          </div>
        </div>
      </section>

      <section id="recentSection" class="results-section" aria-label="Recent Images" hidden>
        <div class="row" style="justify-content:space-between; align-items:center; margin-bottom:0.5rem;">
          <h3 style="margin:0;">Recent Images</h3>
          <div class="row" style="gap:0.5rem;">
            <button class="icon-btn square" id="recentPrev" aria-label="Previous" title="Previous">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
            <button class="icon-btn square" id="recentNext" aria-label="Next" title="Next">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
            <button class="btn btn-secondary" id="clearRecentBtn" title="Clear recent history">Clear History</button>
          </div>
        </div>
        <div id="recentGrid" class="recent-carousel"></div>
      </section>

      <section id="examplesSection" class="results-section" style="margin-top:1.5rem;">
        <h3 style="margin-bottom:0.25rem;">Examples</h3>
        <p style="color:var(--text-secondary); margin-bottom:0.75rem;">AI location change samples ‚Äî different cities and landscapes.</p>
        <div id="examplesGrid" class="examples-grid"></div>
      </section>
    </div>
  </main>

  <footer class="footer">
    <div class="container narrow" style="color:#ef4444;">
      <small><strong>Disclaimer:</strong> We can‚Äôt process images of minors, celebrities, or sensitive/controversial topics.</small>
    </div>
  </footer>

  <script src="script.js"></script>
  <!-- Global Nav Drawer and Overlay -->
  <aside id="navDrawer" class="drawer left" hidden aria-hidden="true" aria-label="Navigation Menu">
    <div class="drawer-header">
      <h2 style="margin:0">Menu</h2>
      <button id="navClose" class="icon-btn" aria-label="Close">‚úï</button>
    </div>
    <div class="drawer-body">
      <div class="drawer-options">
        <button class="option" data-href="/restore">AI Restore</button>
        <button class="option" data-href="/ghibli">AI Ghibli</button>
        <button class="option" data-href="/location">AI Location</button>
      </div>
    </div>
  </aside>
  <div id="navOverlay" class="drawer-overlay" hidden></div>
  <!-- Image Lightbox (shared across tools) -->
  <div id="imageLightboxOverlay" class="lb-overlay" hidden></div>
  <div id="imageLightbox" class="lb-modal" hidden aria-hidden="true" role="dialog" aria-label="Expanded image">
    <div class="lb-topbar">
      <span id="lbLabel" class="lb-label">Image</span>
      <div class="lb-actions">
        <button id="lbDownload" class="btn btn-secondary" aria-label="Download image" title="Download image">
          <span class="icon">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 3a1 1 0 0 1 1 1v8.586l2.293-2.293a1 1 0 1 1 1.414 1.414l-4.002 4a1 1 0 0 1-1.414 0l-4.002-4a1 1 0 1 1 1.414-1.414L11 12.586V4a1 1 0 0 1 1-1z"></path><path fill="currentColor" d="M5 20a2 2 0 0 1-2-2v-2a1 1 0 1 1 2 0v2h14v-2a1 1 0 1 1 2 0v2a2 2 0 0 1-2 2H5z"></path></svg>
          </span>
          <span class="label">Download</span>
        </button>
        <button id="lbClose" class="icon-btn square lb-close" aria-label="Close" title="Close">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>
    <img id="lbImage" alt="Expanded image" />
  </div>
  <script src="https://js.stripe.com/v3"></script>

  <div id="drawerOverlay" class="drawer-overlay" hidden></div>
  <aside id="buyDrawer" class="drawer" hidden aria-hidden="true" aria-labelledby="drawerTitle">
    <div class="drawer-header">
      <h2 id="drawerTitle">Buy credits</h2>
      <button id="drawerClose" class="icon-btn" aria-label="Close">‚úï</button>
    </div>
    <div class="drawer-body">
      <div class="drawer-options">
        <button class="option" data-credits="500"><span class="opt-left"><span class="opt-title">ü™ô 500 credits</span><span class="opt-sub">~5 images</span></span><span class="opt-price">$2.50</span></button>
        <button class="option" data-credits="1000"><span class="opt-left"><span class="opt-title">üöÄ 1000 credits</span><span class="opt-sub">~10 images</span></span><span class="opt-right"><span class="badge-popular">Popular</span><span class="opt-price">$5.00</span></span></button>
        <button class="option" data-credits="2000"><span class="opt-left"><span class="opt-title">üèÜ 2000 credits</span><span class="opt-sub">~20 images</span></span><span class="opt-price">$10.00</span></button>
      </div>
    </div>
  </aside>
</body>
</html>
